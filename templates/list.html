<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{{ title }}</title>
</head>
<body>
    {% include 'header.html' %}
    {% if page != 1 %}
        <a href="{{ format_get_params(page=page - 1) }}">prev page</a>
    {% endif %}
    {% if page != (count // per_page + 1 if count % per_page > 0 else 0) %}
        <a href="{{ format_get_params(page=page + 1) }}">next page</a>
    {% endif %}
    <table border="1">
        <tr>
            {% for key, title in header.items() %}
                <th>
                    {% if key in sort_keys %}
                        <a href="{{ format_get_params(sort=key) }}">{{ title }}</a>
                    {% else %}
                        {{ title }}
                    {% endif %}
                </th>
            {% endfor %}
        </tr>
        {% for row in data %}
            <tr>
                {% for key in header %}
                    <td>{{ row | attr(key) }}</td>
                {% endfor %}
            </tr>
        {% endfor %}
    </table>
</body>
</html>
